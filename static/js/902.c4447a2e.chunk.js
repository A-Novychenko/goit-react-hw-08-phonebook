"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[902],{2902:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t=r(9439),a=r(2791),o=r(6151),l=r(890),i=r(9073),s=r(1413),d=r(6727),c=(r(4318),r(9434)),u=r(6052),m=r(5705),h=r(4554),x=r(3044),b=r(7593),f=r(9823),p=r(3313),g=r(3329),j={name:"",number:"+38"},Z=d.Ry({name:d.Z_().max(20,"Max: 20 symbols").required(),number:d.Z_().phone("UK","Please enter a valid phone number in the format for UKRAINE").required("A phone number is required")}),v=function(e){var n=e.onToggleModal,r=e.handleIsSuch\u0421ontact,t=(0,c.I0)(),a=(0,p.g)().contacts,d=(0,m.TA)({initialValues:(0,s.Z)({},j),validationSchema:Z,onSubmit:function(e,o){var l=o.resetForm,i=e.name,s=e.number;if(a.length&&(a.find((function(e){return e.name===i}))||a.find((function(e){return e.number===s}))))return void r("".concat(i," Is already in contacts !"));t((0,u.uK)(e)),l(),n()}});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{sx:{display:"block",ml:"auto"},onClick:function(){n()},children:(0,g.jsx)(f.Z,{})}),(0,g.jsxs)(h.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",mx:"auto",width:500,height:380},children:[(0,g.jsx)(x.Z,{sx:{m:1,bgcolor:"primary.main"},children:(0,g.jsx)(i.Z,{})}),(0,g.jsx)(l.Z,{component:"h2",variant:"h5",children:"Add contact"}),(0,g.jsxs)("form",{onSubmit:d.handleSubmit,autoComplete:"off",sx:{mt:1},children:[(0,g.jsx)(b.Z,{margin:"normal",fullWidth:!0,id:"name",label:"Name",name:"name",value:d.values.name,onChange:d.handleChange,error:d.touched.name&&Boolean(d.errors.name),helperText:d.touched.name&&d.errors.name}),(0,g.jsx)(b.Z,{margin:"normal",fullWidth:!0,id:"number",name:"number",label:"Phone",type:"tel",value:d.values.number,onChange:d.handleChange,error:d.touched.number&&Boolean(d.errors.number),helperText:d.touched.number&&d.errors.number}),(0,g.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"})]})]})]})},y=r(3400),C=r(7247),S=r(8619),I=r(1286),k=r(6002),w=r(4960),T=r(2739),A=r(2003),F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #1976d2",boxShadow:24,p:4,borderRadius:2},_=function(e){var n=e.children,r=e.handleClose,t=e.open;return(0,g.jsx)("div",{children:(0,g.jsx)(w.Z,{"aria-labelledby":"add-contact","aria-describedby":"add-contact-form",open:t,onClose:r,closeAfterTransition:!0,slots:{backdrop:T.Z},slotProps:{backdrop:{timeout:500}},children:(0,g.jsx)(A.Z,{in:t,children:(0,g.jsx)(h.Z,{sx:F,children:n})})})})},R=d.Ry({name:d.Z_().max(20,"Max: 20 symbols").required(),number:d.Z_().phone("UK","Please enter a valid phone number in the format for UKRAINE").required("A phone number is required")}),q=function(e){var n=e.onToggleModal,r=e.contact,t=r.name,a=r.number,d=r.id,j=e.handleIsSuch\u0421ontact,Z=(0,c.I0)(),v=(0,p.g)().contacts,y=(0,m.TA)({initialValues:{name:t,number:a},validationSchema:R,onSubmit:function(e,r){var t=r.resetForm,a=e.name,o=e.number;if(v.length&&(v.find((function(e){return e.name===a&&e.id!==d}))||v.find((function(e){return e.number===o&&e.id!==d}))))return void j("".concat(a," Is already in contacts !"));Z((0,u.Tk)((0,s.Z)((0,s.Z)({},e),{},{id:d}))),t(),n()}});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.Z,{sx:{display:"block",ml:"auto"},onClick:function(){n()},children:(0,g.jsx)(f.Z,{})}),(0,g.jsxs)(h.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",mx:"auto",width:500,height:380},children:[(0,g.jsx)(x.Z,{sx:{m:1,bgcolor:"primary.main"},children:(0,g.jsx)(i.Z,{})}),(0,g.jsx)(l.Z,{component:"h2",variant:"h5",children:"Update contact"}),(0,g.jsxs)("form",{onSubmit:y.handleSubmit,autoComplete:"off",sx:{mt:1},children:[(0,g.jsx)(b.Z,{margin:"normal",fullWidth:!0,id:"name",label:"Name",name:"name",value:y.values.name,onChange:y.handleChange,error:y.touched.name&&Boolean(y.errors.name),helperText:y.touched.name&&y.errors.name}),(0,g.jsx)(b.Z,{margin:"normal",fullWidth:!0,id:"number",name:"number",label:"Phone",type:"tel",value:y.values.number,onChange:y.handleChange,error:y.touched.number&&Boolean(y.errors.number),helperText:y.touched.number&&y.errors.number}),(0,g.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save"})]})]})]})},K=function(e){var n=e.name,r=e.number,o=e.id,i=e.handleIsSuch\u0421ontact,s=(0,a.useState)(!1),d=(0,t.Z)(s,2),m=d[0],x=d[1],b=(0,c.I0)(),f=(0,a.useState)(!1),p=(0,t.Z)(f,2),j=p[0],Z=p[1],v=function(){return Z(!1)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(h.Z,{component:"div",sx:{display:"flex",alignItems:"center",mx:"auto",border:"1px solid #1976d2",borderRadius:1},children:[(0,g.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center",width:500,ml:2},children:[(0,g.jsx)(S.Z,{sx:{mr:2,color:"#1976d2"}}),(0,g.jsx)(l.Z,{children:n})]}),(0,g.jsx)(h.Z,{sx:{textAlign:"center",width:200,height:"100%",py:1.2,borderRight:"1px solid #1976d2",borderLeft:"1px solid #1976d2"},children:(0,g.jsx)(l.Z,{sx:{textAlign:"center"},children:r})}),(0,g.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-around",alignItems:"center",mx:"auto",width:200},children:[(0,g.jsx)(y.Z,{component:"a",href:"tel:".concat(r),edge:"end","aria-label":"delete",sx:{":hover":{bgcolor:"white",color:"green"}},color:"primary",children:(0,g.jsx)(k.Z,{})}),(0,g.jsx)(y.Z,{edge:"end","aria-label":"edit",type:"button",onClick:function(){return Z(!0)},disabled:m,color:"primary",children:(0,g.jsx)(I.Z,{})}),(0,g.jsx)(y.Z,{edge:"end","aria-label":"delete",type:"button",onClick:function(){b((0,u.GK)(o)),x(!0)},disabled:m,sx:{":hover":{bgcolor:"white",color:"red"}},children:(0,g.jsx)(C.Z,{})})]})]}),j&&(0,g.jsx)(_,{handleClose:v,open:j,children:(0,g.jsx)(q,{onToggleModal:v,contact:{name:n,number:r,id:o},"handleIsSuch\u0421ontact":i})})]})},M=r(9418),P=function(e){var n=e.handleIsSuch\u0421ontact,r=(0,p.g)(),t=r.visibleContacts,o=r.isLoading,l=(0,c.I0)();return(0,a.useEffect)((function(){l((0,u.yF)())}),[l]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{height:"16px"},children:o&&(0,g.jsx)(M.g,{})}),(0,g.jsx)(h.Z,{component:"ul",sx:{display:"flex",flexDirection:"column",gap:1},children:t.map((function(e){var r=e.name,t=e.id,a=e.number;return(0,g.jsx)(h.Z,{component:"li",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,g.jsx)(K,{name:r,number:a,id:t,"handleIsSuch\u0421ontact":n})},t)}))})]})},W=r(4808),U=function(){var e=(0,c.I0)(),n=(0,p.g)().filter;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(b.Z,{label:"Search contact",variant:"filled",sx:{display:"flex",width:.5,mt:5,mb:2,mx:"auto",boxShadow:1,color:"#1976d2",bgcolor:"rgba(25, 118, 210, 0.1)"},autoComplete:"off",type:"text",name:"filter",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:n,onChange:function(n){e((0,W.h)(n.target.value))},placeholder:"search"})})};function B(e){var n=e.handleIsSuch\u0421ontact,r=(0,a.useState)(!1),s=(0,t.Z)(r,2),d=s[0],c=s[1],u=function(){return c(!1)};return(0,g.jsxs)("div",{children:[(0,g.jsxs)(o.Z,{onClick:function(){return c(!0)},variant:"contained",sx:{display:"flex",mx:"auto",my:4},children:[(0,g.jsx)(i.Z,{fontSize:"large"}),(0,g.jsx)(l.Z,{ml:2,children:" add contact"})]}),(0,g.jsx)(U,{}),(0,g.jsx)(P,{"handleIsSuch\u0421ontact":n}),d&&(0,g.jsx)(_,{handleClose:u,open:d,children:(0,g.jsx)(v,{onToggleModal:u,"handleIsSuch\u0421ontact":n})})]})}}}]);
//# sourceMappingURL=902.c4447a2e.chunk.js.map