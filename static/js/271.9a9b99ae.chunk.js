"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[271],{6271:function(e,n,r){r.r(n),r.d(n,{default:function(){return G}});var t,a,o,l,i,s=r(9439),d=r(2791),c=r(6151),u=r(890),m=r(9073),h=r(1413),x=r(6727),b=(r(4318),r(9434)),p=r(6052),f=r(5705),g=r(4554),j=r(3044),Z=r(7593),v=r(9823),y=r(3313),C=r(3329),S={name:"",number:"+38"},w=x.Ry({name:x.Z_().max(20,"Max: 20 symbols").required(),number:x.Z_().phone("UK","Please enter a valid phone number in the format for UKRAINE").required("A phone number is required")}),I=function(e){var n=e.onToggleModal,r=e.handleIsSuch\u0421ontact,t=(0,b.I0)(),a=(0,y.g)().contacts,o=(0,f.TA)({initialValues:(0,h.Z)({},S),validationSchema:w,onSubmit:function(e,o){var l=o.resetForm,i=e.name,s=e.number;if(a.length&&(a.find((function(e){return e.name===i}))||a.find((function(e){return e.number===s}))))return void r("".concat(i," Is already in contacts !"));t((0,p.uK)(e)),l(),n()}});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{sx:{display:"block",ml:"auto"},onClick:function(){n()},children:(0,C.jsx)(v.Z,{})}),(0,C.jsxs)(g.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",mx:"auto",width:500,height:380},children:[(0,C.jsx)(j.Z,{sx:{m:1,bgcolor:"primary.main"},children:(0,C.jsx)(m.Z,{})}),(0,C.jsx)(u.Z,{component:"h2",variant:"h5",children:"Add contact"}),(0,C.jsxs)("form",{onSubmit:o.handleSubmit,autoComplete:"off",sx:{mt:1},children:[(0,C.jsx)(Z.Z,{margin:"normal",fullWidth:!0,id:"name",label:"Name",name:"name",value:o.values.name,onChange:o.handleChange,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name}),(0,C.jsx)(Z.Z,{margin:"normal",fullWidth:!0,id:"number",name:"number",label:"Phone",type:"tel",value:o.values.number,onChange:o.handleChange,error:o.touched.number&&Boolean(o.errors.number),helperText:o.touched.number&&o.errors.number}),(0,C.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add contact"})]})]})]})},k=r(3400),T=r(7247),A=r(8619),P=r(1286),F=r(6002),_=r(4960),R=r(2739),q=r(2003),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #1976d2",boxShadow:24,p:4,borderRadius:2},M=function(e){var n=e.children,r=e.handleClose,t=e.open;return(0,C.jsx)("div",{children:(0,C.jsx)(_.Z,{"aria-labelledby":"add-contact","aria-describedby":"add-contact-form",open:t,onClose:r,closeAfterTransition:!0,slots:{backdrop:R.Z},slotProps:{backdrop:{timeout:500}},children:(0,C.jsx)(q.Z,{in:t,children:(0,C.jsx)(g.Z,{sx:K,children:n})})})})},W=x.Ry({name:x.Z_().max(20,"Max: 20 symbols").required(),number:x.Z_().phone("UK","Please enter a valid phone number in the format for UKRAINE").required("A phone number is required")}),U=function(e){var n=e.onToggleModal,r=e.contact,t=r.name,a=r.number,o=r.id,l=e.handleIsSuch\u0421ontact,i=(0,b.I0)(),s=(0,y.g)().contacts,d=(0,f.TA)({initialValues:{name:t,number:a},validationSchema:W,onSubmit:function(e,r){var t=r.resetForm,a=e.name,d=e.number;if(s.length&&(s.find((function(e){return e.name===a&&e.id!==o}))||s.find((function(e){return e.number===d&&e.id!==o}))))return void l("".concat(a," Is already in contacts !"));i((0,p.Tk)((0,h.Z)((0,h.Z)({},e),{},{id:o}))),t(),n()}});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Z,{sx:{display:"block",ml:"auto"},onClick:function(){n()},children:(0,C.jsx)(v.Z,{})}),(0,C.jsxs)(g.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",mx:"auto",width:500,height:380},children:[(0,C.jsx)(j.Z,{sx:{m:1,bgcolor:"primary.main"},children:(0,C.jsx)(m.Z,{})}),(0,C.jsx)(u.Z,{component:"h2",variant:"h5",children:"Update contact"}),(0,C.jsxs)("form",{onSubmit:d.handleSubmit,autoComplete:"off",sx:{mt:1},children:[(0,C.jsx)(Z.Z,{margin:"normal",fullWidth:!0,id:"name",label:"Name",name:"name",value:d.values.name,onChange:d.handleChange,error:d.touched.name&&Boolean(d.errors.name),helperText:d.touched.name&&d.errors.name}),(0,C.jsx)(Z.Z,{margin:"normal",fullWidth:!0,id:"number",name:"number",label:"Phone",type:"tel",value:d.values.number,onChange:d.handleChange,error:d.touched.number&&Boolean(d.errors.number),helperText:d.touched.number&&d.errors.number}),(0,C.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Save"})]})]})]})},B=function(e){var n=e.name,r=e.number,t=e.id,a=e.handleIsSuch\u0421ontact,o=(0,d.useState)(!1),l=(0,s.Z)(o,2),i=l[0],c=l[1],m=(0,b.I0)(),h=(0,d.useState)(!1),x=(0,s.Z)(h,2),f=x[0],j=x[1],Z=function(){return j(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(g.Z,{component:"div",sx:{display:"flex",alignItems:"center",mx:"auto",border:"1px solid #1976d2",borderRadius:1},children:[(0,C.jsxs)(g.Z,{sx:{display:"flex",alignItems:"center",width:500,ml:2},children:[(0,C.jsx)(A.Z,{sx:{mr:2,color:"#1976d2"}}),(0,C.jsx)(u.Z,{children:n})]}),(0,C.jsx)(g.Z,{sx:{textAlign:"center",width:200,height:"100%",py:1.2,borderRight:"1px solid #1976d2",borderLeft:"1px solid #1976d2"},children:(0,C.jsx)(u.Z,{sx:{textAlign:"center"},children:r})}),(0,C.jsxs)(g.Z,{sx:{display:"flex",justifyContent:"space-around",alignItems:"center",mx:"auto",width:200},children:[(0,C.jsx)(k.Z,{component:"a",href:"tel:".concat(r),edge:"end","aria-label":"delete",sx:{":hover":{bgcolor:"white",color:"green"}},color:"primary",children:(0,C.jsx)(F.Z,{})}),(0,C.jsx)(k.Z,{edge:"end","aria-label":"edit",type:"button",onClick:function(){return j(!0)},disabled:i,color:"primary",children:(0,C.jsx)(P.Z,{})}),(0,C.jsx)(k.Z,{edge:"end","aria-label":"delete",type:"button",onClick:function(){m((0,p.GK)(t)),c(!0)},disabled:i,sx:{":hover":{bgcolor:"white",color:"red"}},children:(0,C.jsx)(T.Z,{})})]})]}),f&&(0,C.jsx)(M,{handleClose:Z,open:f,children:(0,C.jsx)(U,{onToggleModal:Z,contact:{name:n,number:r,id:t},"handleIsSuch\u0421ontact":a})})]})},N=r(168),D=r(7691),E=(D.ZP.p(t||(t=(0,N.Z)(["\n  font-weight: 500;\n"]))),D.ZP.div(a||(a=(0,N.Z)(["\n  /* display: flex;\n  gap: 8px; */\n"]))),D.ZP.button(o||(o=(0,N.Z)(["\n  background-color: transparent;\n  border: none;\n  color: red;\n  border-radius: 4px;\n  cursor: pointer;\n\n  :hover {\n    background-color: red;\n    color: white;\n  }\n"]))),r(9418)),L=function(e){var n=e.handleIsSuch\u0421ontact,r=(0,y.g)(),t=r.visibleContacts,a=r.isLoading,o=(0,b.I0)();return(0,d.useEffect)((function(){o((0,p.yF)())}),[o]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{height:"16px"},children:a&&(0,C.jsx)(E.g,{})}),(0,C.jsx)(g.Z,{component:"ul",sx:{display:"flex",flexDirection:"column",gap:1},children:t.map((function(e){var r=e.name,t=e.id,a=e.number;return(0,C.jsx)(g.Z,{component:"li",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,C.jsx)(B,{name:r,number:a,id:t,"handleIsSuch\u0421ontact":n})},t)}))})]})},V=(D.ZP.ul(l||(l=(0,N.Z)(["\n  /* display: flex;\n  flex-direction: column;\n  justify-content: space-between; */\n"]))),D.ZP.li(i||(i=(0,N.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  /*  max-width: 360px; */\n"]))),r(4808)),z=function(){var e=(0,b.I0)(),n=(0,y.g)().filter;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Z.Z,{label:"Search contact",variant:"filled",sx:{display:"flex",width:.5,mt:5,mb:2,mx:"auto",boxShadow:1,color:"#1976d2",bgcolor:"rgba(25, 118, 210, 0.1)"},autoComplete:"off",type:"text",name:"filter",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:n,onChange:function(n){e((0,V.h)(n.target.value))},placeholder:"search"})})};function G(e){var n=e.handleIsSuch\u0421ontact,r=(0,d.useState)(!1),t=(0,s.Z)(r,2),a=t[0],o=t[1],l=function(){return o(!1)};return(0,C.jsxs)("div",{children:[(0,C.jsxs)(c.Z,{onClick:function(){return o(!0)},variant:"contained",sx:{display:"flex",mx:"auto",my:4},children:[(0,C.jsx)(m.Z,{fontSize:"large"}),(0,C.jsx)(u.Z,{ml:2,children:" add contact"})]}),(0,C.jsx)(z,{}),(0,C.jsx)(L,{"handleIsSuch\u0421ontact":n}),a&&(0,C.jsx)(M,{handleClose:l,open:a,children:(0,C.jsx)(I,{onToggleModal:l,"handleIsSuch\u0421ontact":n})})]})}}}]);
//# sourceMappingURL=271.9a9b99ae.chunk.js.map